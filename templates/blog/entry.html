
{% extends "base.html" %}

<!--
    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
    ░                                                                                 ░
    ░        ██╗ ██████╗ ██╗  ██╗███╗   ██╗███╗   ██╗██╗   ██╗                       ░
    ░        ██║██╔═══██╗██║  ██║████╗  ██║████╗  ██║╚██╗ ██╔╝                       ░
    ░        ██║██║   ██║███████║██╔██╗ ██║██╔██╗ ██║ ╚████╔╝                        ░
    ░   ██   ██║██║   ██║██╔══██║██║╚██╗██║██║╚██╗██║  ╚██╔╝                         ░
    ░   ╚█████╔╝╚██████╔╝██║  ██║██║ ╚████║██║ ╚████║   ██║                          ░
    ░    ╚════╝  ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═══╝╚═╝  ╚═══╝   ╚═╝                          ░
    ░                                                                                 ░
    ░    ███╗   ███╗███╗   ██╗███████╗███╗   ███╗ ██████╗ ███╗   ██╗██╗ ██████╗     ░
    ░    ████╗ ████║████╗  ██║██╔════╝████╗ ████║██╔═══██╗████╗  ██║██║██╔════╝     ░
    ░    ██╔████╔██║██╔██╗ ██║█████╗  ██╔████╔██║██║   ██║██╔██╗ ██║██║██║          ░
    ░    ██║╚██╔╝██║██║╚██╗██║██╔══╝  ██║╚██╔╝██║██║   ██║██║╚██╗██║██║██║          ░
    ░    ██║ ╚═╝ ██║██║ ╚████║███████╗██║ ╚═╝ ██║╚██████╔╝██║ ╚████║██║╚██████╗     ░
    ░    ╚═╝     ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝     ╚═╝ ╚═════╝ ╚═╝  ╚═══╝╚═╝ ╚═════╝     ░
    ░                                                                                 ░
    ░         MEMORY PALACE ACCESSED - DOWNLOADING INFORMATION...                    ░
    ░                                                                                 ░
    ░         Content ID: {{ entry.id }}                                             ░
    ░         Storage Capacity: 320 GIGABYTES                                        ░
    ░         Courier Status: ACTIVE                                                 ░
    ░         Neural Interface: SYNCHRONIZED                                         ░
    ░                                                                                 ░
    ░         "I can carry nearly eighty gigs of data in my head."                   ░
    ░                               - Johnny Mnemonic (1995)                        ░
    ░                                                                                 ░
    ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░
    
    NEURAL JACK-IN INITIATED...
    ACCESSING MEMORY: "{{ entry.title }}"
    ████████████████████████████████████████████████████████████████████████████ 100%
    DATA RETRIEVAL COMPLETE.
    
    WARNING: Information overload detected. Mind the storage limit.
    
    ░▓█ CYBERNETIC INTERFACE ACTIVE █▓░
    ░▓█ MEMORY PALACE UNLOCKED █▓░
    ░▓█ WISDOM TRANSFER IN PROGRESS █▓░
    
-->
{% load static %}

{% block title %}{{ entry.title }} | {{ site_name }}{% endblock %}
{% block meta_description %}{{ entry.summary_text }}{% endblock %}
{% block og_title %}{{ entry.title }}{% endblock %}
{% block og_description %}{{ entry.summary_text }}{% endblock %}
{% block og_type %}article{% endblock %}
{% block og_url %}{{ request.build_absolute_uri }}{% endblock %}

{% block og_image %}
{% if entry.get_image_url %}
<meta property="og:image" content="{{ request.scheme }}://{{ request.get_host }}{{ entry.get_image_url }}" />
{% else %}
{{ block.super }}
{% endif %}

{% endblock %}

{% block twitter_title %}
  {{ entry.title }}
{% endblock %}

{% block twitter_description %}
  {{ entry.summary_text }}
{% endblock %}

{% block twitter_image %}
  {% if entry.get_image_url %}
    <meta name="twitter:image" content="{{ request.scheme }}://{{ request.get_host }}{{ entry.get_image_url }}" />
  {% else %}
    {{ block.super }}
  {% endif %}
{% endblock %}

{% block extra_head %}
<!-- Structured Data (JSON-LD) for SEO -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ entry.title|escapejs }}",
  "description": "{{ entry.summary_text|escapejs }}",
  "datePublished": "{{ entry.created|date:'c' }}",
  "dateModified": "{{ entry.updated|date:'c'|default:entry.created|date:'c' }}",
  "author": {
    "@type": "Person",
    "name": "{% if entry.authors.exists %}{% for authorship in entry.authorship_set.all %}{{ authorship.user.get_full_name|default:authorship.user.username }}{% if not forloop.last %}, {% endif %}{% endfor %}{% else %}{{ site_name }}{% endif %}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "{{ site_name }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ request.scheme }}://{{ request.get_host }}{% static 'images/logo.png' %}"
    }
  },
  {% if entry.get_image_url %}"image": "{{ request.scheme }}://{{ request.get_host }}{{ entry.get_image_url }}",{% endif %}
  "url": "{{ request.build_absolute_uri }}",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ request.build_absolute_uri }}"
  }{% if entry.tags.exists %},
  "keywords": "{% for tag in entry.tags.all %}{{ tag.name }}{% if not forloop.last %}, {% endif %}{% endfor %}"{% endif %}{% if reading_time %},
  "wordCount": "{{ entry.body|wordcount }}",
  "timeRequired": "PT{{ reading_time }}M"{% endif %}
}
</script>
{% endblock %}

{% block content %}
{% if preview %}
<div class="preview-banner">
  <strong>PREVIEW MODE</strong> - This content is not publicly visible.
  <a href="{% url 'admin:blog_entry_change' entry.id %}">Edit in Admin</a>
</div>
{% endif %}

<article class="post-content">
  <header>
    <h1 class="synth-wave-header">{{ entry.title }}</h1>
    <div class="post-meta">
      <time datetime="{{ entry.created|date:'Y-m-d' }}">{{ entry.created|date:"F j, Y" }}</time>
      {% if entry.authors.exists %}
        by
        {% for authorship in entry.authorship_set.all %}
          {{ authorship.user.get_full_name|default:authorship.user.username }}{% if not forloop.last %}, {% endif %}
        {% endfor %}
      {% endif %}

      {% if reading_time %}
        <span class="reading-time">{{ reading_time }} min read</span>
      {% endif %}

  </div>
  </header>

  {% if entry.get_image_url %}
  <figure class="post-image">
    <img src="{{ entry.get_image_url }}" alt="{{ entry.image_alt_text }}" />
    {% if entry.image_caption_html %}
    <figcaption>{{ entry.image_caption_html }}</figcaption>
    {% endif %}
  </figure>
  {% endif %}

  <div class="post-summary grid-pattern">{{ entry.summary_rendered }}</div>

  <div class="post-body">{{ entry.body_rendered }}</div>


  {% if entry.tags.exists %}

    <div class="post-tags">
    <h3>Tags:</h3>

    {% for tag in entry.tags.all %}

      <a href="
      {% url 'blog:tag' tag.slug %}
      " class="tag">{{ tag.name }}</a>

    {% endfor %}

    </div>

  {% endif %}

  {% if related_entries %}

    <div class="related-posts">
    <h3 class="neon-text">Related Posts</h3>
    <div class="related-posts-grid">

    {% for related in related_entries %}

      <div class="related-post-card">
      <h4>
      <a href="{{ related.get_absolute_url }}">{{ related.title }}</a>
      </h4>
      <div class="post-meta"><time datetime="{{ related.created|date:'Y-m-d' }}">{{ related.created|date:"F j, Y" }}</time></div>
      </div>

    {% endfor %}

    </div>
    </div>

  {% endif %}

  </article>

{% endblock %}
